{% extends "base.html" %}
{% block content %}
<div class="max-w-md mx-auto p-4">
  <header class="flex items-center justify-between py-2">
    <a href="/" class="text-sm underline">‚Üê Home</a>
    <h1 class="text-lg font-semibold">Categories</h1>
    <span class="text-sm px-2 py-1 rounded bg-white border">EN</span>
  </header>

  <div class="mt-4 flex gap-2">
    <a href="/categories?kind=expense"
       class="flex-1 text-center py-2 rounded-xl border {{ 'bg-gray-900 text-white' if kind=='expense' else 'bg-white' }}">
      Expense
    </a>
    <a href="/categories?kind=income"
       class="flex-1 text-center py-2 rounded-xl border {{ 'bg-gray-900 text-white' if kind=='income' else 'bg-white' }}">
      Income
    </a>
  </div>

  <form method="post" action="/categories/add" class="mt-4 rounded-2xl bg-white shadow p-4">
    <input type="hidden" name="kind" value="{{ kind }}" />
    <label class="block text-sm font-medium">Add custom category</label>
    <div class="mt-2 flex gap-2">
      <input name="name" placeholder="e.g. Pets"
             class="flex-1 rounded-xl border px-3 py-2 outline-none focus:ring"
             />
      <button class="rounded-xl bg-gray-900 text-white px-4">
        Add
      </button>
    </div>
    <p class="text-xs text-gray-500 mt-2">Custom categories are saved for your user.</p>
  </form>

  <div class="mt-4 rounded-2xl bg-white shadow p-4">
    <p class="font-medium">List</p>
    <ul class="mt-3 space-y-2">
      {% for c in categories %}
        <li class="flex items-center justify-between rounded-xl border px-3 py-2">
          <span>{{ c["name"] }}</span>
          {% if c["is_default"] == 1 %}
            <span class="text-xs px-2 py-1 rounded bg-gray-100">default</span>
          {% else %}
            <span class="text-xs px-2 py-1 rounded bg-gray-900 text-white">custom</span>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
