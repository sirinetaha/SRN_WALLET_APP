{% extends "base.html" %}
{% block content %}
<div class="max-w-md mx-auto p-4">
  <header class="flex items-center justify-between py-2">
    <a href="/" class="text-sm underline">‚Üê Home</a>
    <h1 class="text-lg font-semibold">
      Add {{ "Expense" if kind=="expense" else "Income" }}
    </h1>
    <span></span>
  </header>

  <form method="post" action="/transactions/add" class="mt-4 rounded-2xl bg-white shadow p-4 space-y-4">
    <input type="hidden" name="kind" value="{{ kind }}" />

    <div>
      <label class="block text-sm font-medium">Category</label>
      <select name="category_id" class="w-full mt-1 rounded-xl border px-3 py-2">
        {% for c in categories %}
          <option value="{{ c['id'] }}">{{ c['name'] }}</option>
        {% endfor %}
      </select>
    </div>

    <div>
      <label class="block text-sm font-medium">Amount</label>
      <input name="amount" type="text" inputmode="decimal" placeholder="e.g. 10.50"
             class="w-full mt-1 rounded-xl border px-3 py-2" />
      <p class="text-xs text-gray-500 mt-1">Use dot for decimals: 10.50</p>
    </div>

    <div>
      <label class="block text-sm font-medium">Currency</label>
      <select name="currency" class="w-full mt-1 rounded-xl border px-3 py-2">
        {% for cur in currencies %}
          <option value="{{ cur['code'] }}">{{ cur['code'] }} ({{ cur['symbol'] }})</option>
        {% endfor %}
      </select>
    </div>

    <div>
      <label class="block text-sm font-medium">Date</label>
      <input name="tx_date" type="date"  value="{{today}}" class="w-full mt-1 rounded-xl border px-3 py-2" />
    </div>

    <div>
      <label class="block text-sm font-medium">Note (optional)</label>
      <input name="note" placeholder="optional" class="w-full mt-1 rounded-xl border px-3 py-2" />
    </div>

    <button class="w-full rounded-xl bg-gray-900 text-white py-3">
      Save Transaction
    </button>
  </form>
</div>
{% endblock %}
